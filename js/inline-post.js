(function () {
  document.addEventListener('DOMContentLoaded', () => {
    const pluginTitle = document.querySelectorAll('.ctaText');

    function getNewImgWrapper() {
      const imgWrapper = document.createElement('div');
      const SVG_Cat = `
      <svg class="purr-inline-post__cat-desktop" width="167" height="169" viewBox="0 0 167 169" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.422356 175.832C-0.678635 200.153 4.6564 262.365 28.2083 277.449C51.7603 292.533 88.3116 294.915 101.527 293.062C114.742 291.21 195.465 274.395 196.421 228.182C196.76 211.743 194.087 195.677 186.245 181.228C167.547 146.794 125.72 144.478 101.527 117.027C91.5603 105.717 97.4831 82.8514 87.6321 79.4684C79.4161 76.6493 73.3779 84.8621 64.6327 88.1431C60.3584 89.7463 55.2023 89.692 51.4979 87.0291C45.012 82.3691 49.7611 72.8995 43.3769 69.2992C31.7348 62.7372 15.9065 98.4414 12.806 108.57C7.67697 125.321 1.52335 151.511 0.422356 175.832Z" fill="#5C3BFE"/>
        <path d="M34.428 118.713C35.8483 118.713 36.9998 116.407 36.9998 113.563C36.9998 110.718 35.8483 108.413 34.428 108.413C33.0077 108.413 31.8563 110.718 31.8563 113.563C31.8563 116.407 33.0077 118.713 34.428 118.713Z" fill="#1F1D3E"/>
        <path d="M61.4316 120C62.8519 120 64.0034 117.695 64.0034 114.85C64.0034 112.006 62.8519 109.7 61.4316 109.7C60.0112 109.7 58.8598 112.006 58.8598 114.85C58.8598 117.695 60.0112 120 61.4316 120Z" fill="#1F1D3E"/>
        <path d="M172.504 20.7086L171.111 20.4135L171.604 21.7497L192.774 79.128L146.798 43.8624L146.049 43.2875L145.62 44.13L124.771 85.1089L110.14 45.4695L109.923 44.8834L109.304 44.9627L74.7257 49.3846L100.457 20.4326L100.964 19.8615L100.408 19.3382L65.8563 -13.1719L120.717 -27.4188L121.211 -27.5473L121.295 -28.0517L135.119 -111.734L158.694 -34.696L158.912 -33.9857L159.633 -34.1635L208.357 -46.1776L176.834 -5.76817L176.454 -5.28098L176.837 -4.79684L201.977 26.9522L172.504 20.7086Z" stroke="#1F1D3E" stroke-width="1.57114"/>
      </svg>

      <svg class="purr-inline-post__cat-mobile" width="120" height="107" viewBox="0 0 120 107" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M73.4167 21.3964L73.9451 20.6957L73.0679 20.5918L41.8822 16.8979L68.6619 3.13728L69.1643 2.87916L68.8366 2.40767L54.8241 -17.7552L76.3735 -15.2062L76.7712 -15.1592L76.8972 -15.5384L82.8035 -33.3176L90.1084 -13.8589L90.2889 -13.3781L90.7608 -13.5611L113.642 -22.4376L107.512 7.79186L107.449 8.10124L107.701 8.29551L142.94 35.454L102.157 28.1329L101.689 28.049L101.589 28.5129L95.8811 55.0663L84.6512 29.9682L84.4819 29.5899L84.0826 29.6778L63.8044 34.1443L73.4167 21.3964Z" stroke="#1F1D3E"/>
      <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="18" y="43" width="150" height="183">
      <path d="M36.7152 142.529C40.9406 134.47 45.6635 127.137 43.1869 124.156C41.2338 121.807 37.5111 122.932 35.0711 124.625C17.2427 136.976 18.0909 121.942 18.1694 120.367C18.7192 109.051 22.3058 92.3597 26.2642 77.917C28.6571 69.1845 40.8726 38.4014 49.8575 44.0591C54.7845 47.1632 51.1194 55.3275 56.1249 59.3452C58.9838 61.641 62.9631 61.6879 66.2618 60.3057C73.0109 57.4769 77.6709 50.3961 84.0117 52.8266C91.6143 55.7433 87.0433 75.4571 94.735 85.2086C113.406 108.876 145.686 110.873 160.116 140.561C166.169 153.018 168.232 166.869 167.97 181.043C167.232 220.886 136.696 235.575 109.783 219.475C71.7386 196.715 80.3046 176.914 66.555 168.322C62.5076 165.792 56.2663 164.292 47.3966 167.15" fill="#5C4D9B"/>
      </mask>
      <g mask="url(#mask0)">
      <path d="M36.7152 142.529C40.9406 134.47 45.6635 127.137 43.1869 124.156C41.2339 121.807 37.5111 122.932 35.0711 124.625C17.2427 136.976 18.0909 121.942 18.1694 120.367C18.7192 109.051 22.3058 92.3597 26.2642 77.917C28.6571 69.1845 40.8726 38.4014 49.8575 44.0591C54.7845 47.1632 51.1194 55.3275 56.1249 59.3452C58.9838 61.641 62.9631 61.6879 66.2618 60.3057C73.0109 57.4769 77.6709 50.3961 84.0117 52.8266C91.6143 55.7433 87.0433 75.4571 94.7349 85.2086C112.64 110.783 145.686 110.873 160.116 140.561C166.169 153.018 168.232 166.869 167.97 181.043C167.232 220.886 136.696 235.575 109.783 219.475C71.7386 196.715 80.3046 176.914 66.555 168.322C62.5076 165.792 56.2663 164.292 47.3966 167.15" fill="#5C3BFE"/>
      <path d="M62.8008 96.0437C69.6913 100.495 72.4663 92.9748 77.5505 91.8093C81.2156 90.9718 84.9855 92.2017 88.7293 92.2602C92.6929 92.3247 96.7298 90.9952 99.7981 88.1839C102.866 85.3727 104.872 81.0328 104.778 76.5993C104.709 73.5596 103.709 70.6547 102.72 67.8259C101.29 63.7378 99.819 59.562 97.2325 56.2646C95.2742 53.7696 92.761 51.8838 90.1063 50.402C83.4514 46.6771 74.9639 45.5468 68.8326 50.2673C63.8584 54.0859 47.6007 86.2219 62.8008 96.0437Z" fill="#A998FB" fill-opacity="0.3"/>
      </g>
      <path d="M42.951 86.6619C44.0471 86.6619 44.9357 84.6739 44.9357 82.2217C44.9357 79.7694 44.0471 77.7815 42.951 77.7815C41.8548 77.7815 40.9662 79.7694 40.9662 82.2217C40.9662 84.6739 41.8548 86.6619 42.951 86.6619Z" fill="#1F1D3E"/>
      <path d="M63.7912 87.772C64.8873 87.772 65.776 85.7841 65.776 83.3318C65.776 80.8795 64.8873 78.8916 63.7912 78.8916C62.695 78.8916 61.8064 80.8795 61.8064 83.3318C61.8064 85.7841 62.695 87.772 63.7912 87.772Z" fill="#1F1D3E"/>
      <path d="M112.865 74.012C112.865 76.4906 110.855 78.4999 108.377 78.4999C105.898 78.4999 103.889 76.4906 103.889 74.012C103.889 71.5334 105.898 69.524 108.377 69.524C110.855 69.524 112.865 71.5334 112.865 74.012Z" stroke="#1F1D3E"/>
      <mask id="mask1" mask-type="alpha" maskUnits="userSpaceOnUse" x="103" y="69" width="11" height="10">
      <path d="M112.889 73.9879C112.889 76.4666 110.88 78.4759 108.401 78.4759C105.923 78.4759 103.913 76.4666 103.913 73.9879C103.913 71.5093 105.923 69.5 108.401 69.5C110.88 69.5 112.889 71.5093 112.889 73.9879Z" stroke="#1F1D3E"/>
      </mask>
      <g mask="url(#mask1)">
      </g>
      <path d="M14.4103 22.018C14.4103 25.9013 11.444 28.9999 7.84408 28.9999C4.24418 28.9999 1.27783 25.9013 1.27783 22.018C1.27783 18.1347 4.24418 15.0361 7.84408 15.0361C11.444 15.0361 14.4103 18.1347 14.4103 22.018Z" stroke="#1F1D3E"/>
      <mask id="mask2" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="14" width="15" height="16">
      <path d="M14.4454 21.9819C14.4454 25.8652 11.479 28.9638 7.87911 28.9638C4.27922 28.9638 1.31287 25.8652 1.31287 21.9819C1.31287 18.0986 4.27922 15 7.87911 15C11.479 15 14.4454 18.0986 14.4454 21.9819Z" stroke="#1F1D3E"/>
      </mask>
      <g mask="url(#mask2)">
      </g>
      </svg>
      `;
      imgWrapper.innerHTML = SVG_Cat;
      imgWrapper.classList.add('purr-inline-post__img-wrap');

      return imgWrapper;
    }

    if (pluginTitle) {
      pluginTitle.forEach(item => {
        const parent = item.closest('a');
        const postWrapper = item.closest('div');
        parent.classList.add('purr-inline-post');
        postWrapper.classList.add('purr-inline-post__wrap')
        parent.setAttribute('onclick', `ym(52342033, 'reachGoal', 'CLK_INLINE-POST'); return true;`);
        parent.appendChild(getNewImgWrapper());
      });
      const pageUrl = document.location.href;
      if (pageUrl.includes('blog/ru/')) {
        pluginTitle.forEach(item => item.innerHTML = 'Читайте также:')
      }
    }
  })
}())